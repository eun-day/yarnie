# 요구사항 문서

## 소개

뜨개질 작업 시 필요한 고급 카운팅 기능을 제공합니다. 메인/서브 카운터, 카운트 단위 설정, 데이터 저장 등의 기능을 추가하여 실제 뜨개질 작업에 유용한 도구로 발전시킵니다.

## 요구사항

### 요구사항 1

**사용자 스토리:** 뜨개질 작업자로서, 카운터 화면에서도 진행 중인 스톱워치를 확인하고 제어하고 싶습니다. 그래야 시간 추적을 놓치지 않고 카운팅 작업을 할 수 있습니다.

#### 승인 기준

1. WHEN 카운터 화면이 표시될 때 THEN 카운터 화면 최상단에 스톱워치 표시가 항상 나타나야 합니다
2. WHEN 스톱워치가 실행 중일 때 THEN 스톱워치 표시에 현재 경과 시간이 표시되어야 합니다
3. WHEN 카운터 화면의 스톱워치 표시 옆 시작/일시정지 버튼을 클릭할 때 THEN 스톱워치가 시작되거나 일시정지되어야 합니다

### 요구사항 2

**사용자 스토리:** 뜨개질 작업자로서, 메인 카운터에 추가로 서브 카운터를 하나 더 사용하고 싶습니다. 그래야 복잡한 패턴에서 두 가지 요소를 동시에 카운팅할 수 있습니다.

#### 승인 기준

1. WHEN "Add SubCounter" 버튼을 클릭할 때 THEN +/- 버튼 아래에 서브 카운터가 생성되어야 합니다
2. WHEN 서브 카운터가 생성될 때 THEN 서브 카운터는 메인 카운터보다 작은 크기로 표시되어야 합니다
3. WHEN 서브 카운터가 표시될 때 THEN "- [ 숫자 ] +" 형태의 간단한 UI로 표시되어야 합니다
4. WHEN 서브 카운터가 생성될 때 THEN "Add SubCounter" 버튼이 숨겨져야 합니다
5. WHEN 서브 카운터가 삭제될 때 THEN "Add SubCounter" 버튼이 다시 표시되어야 합니다

### 요구사항 3

**사용자 스토리:** 뜨개질 작업자로서, 카운터 숫자를 크게 보고 쉽게 초기화하고 싶습니다. 그래야 작업 중에 숫자를 명확히 확인하고 필요시 빠르게 리셋할 수 있습니다.

#### 승인 기준

1. WHEN 카운터 화면이 표시될 때 THEN 메인 카운터 숫자가 크게 중앙정렬되어 표시되어야 합니다
2. WHEN 카운터 숫자를 롱탭할 때 THEN "카운터를 초기화하시겠습니까?" 확인 메시지가 표시되어야 합니다
3. WHEN 초기화 확인 메시지에서 확인을 선택할 때 THEN 해당 카운터가 0으로 초기화되어야 합니다

### 요구사항 4

**사용자 스토리:** 뜨개질 작업자로서, 카운트 단위를 설정하고 싶습니다. 그래야 2씩, 3씩 등 패턴에 맞는 단위로 카운팅할 수 있습니다.

#### 승인 기준

1. WHEN 카운터 화면이 표시될 때 THEN "count by X" 버튼이 메인 카운터 숫자 위쪽 오른쪽에 표시되어야 합니다
2. WHEN count by 버튼이 표시될 때 THEN 현재 설정된 카운트 단위 값이 버튼에 표시되어야 합니다
3. WHEN count by 버튼을 클릭할 때 THEN 카운트 단위 설정 팝업이 표시되어야 합니다
4. WHEN 설정 팝업이 표시될 때 THEN 휠피커를 통해 카운트 단위를 선택할 수 있어야 합니다
5. WHEN 카운트 단위를 변경할 때 THEN 이후 +/- 버튼 클릭 시 설정된 단위만큼 증감되어야 합니다

### 요구사항 5

**사용자 스토리:** 뜨개질 작업자로서, 카운터를 쉽게 증감시키고 싶습니다. 그래야 작업 중에 빠르고 정확하게 카운팅할 수 있습니다.

#### 승인 기준

1. WHEN 카운터 화면이 표시될 때 THEN - 버튼과 + 버튼이 나란히 배치되어야 합니다
2. WHEN +/- 버튼이 표시될 때 THEN 각 버튼이 화면 너비를 절반씩 차지하고 가로세로 비율이 1:1.5가 되어야 합니다
3. WHEN - 버튼을 클릭할 때 THEN 카운터 값이 설정된 단위만큼 감소해야 합니다
4. WHEN + 버튼을 클릭할 때 THEN 카운터 값이 설정된 단위만큼 증가해야 합니다
5. WHEN +/- 버튼 아래에 THEN "Add SubCounter" 버튼이 중앙정렬로 배치되어야 합니다

### 요구사항 6

**사용자 스토리:** 뜨개질 작업자로서, 각 프로젝트별로 카운터 값이 자동으로 저장되기를 원합니다. 그래야 여러 프로젝트를 진행하면서도 각각의 작업 상태를 잃지 않습니다.

#### 승인 기준

1. WHEN 메인 카운터 값이 변경될 때 THEN 현재 프로젝트 ID와 함께 데이터베이스에 저장되어야 합니다
2. WHEN 서브 카운터 값이 변경될 때 THEN 현재 프로젝트 ID와 함께 데이터베이스에 저장되어야 합니다
3. WHEN count by 값이 변경될 때 THEN 현재 프로젝트 ID와 함께 데이터베이스에 저장되어야 합니다
4. WHEN 카운터 값이 연속으로 변경될 때 THEN 디바운싱을 통해 데이터베이스 저장이 최적화되어야 합니다

### 요구사항 7

**사용자 스토리:** 뜨개질 작업자로서, 특정 프로젝트의 카운터 화면에 진입할 때 해당 프로젝트의 이전 작업 상태가 복원되기를 원합니다. 그래야 각 프로젝트별로 중단된 작업을 이어서 할 수 있습니다.

#### 승인 기준

1. WHEN 특정 프로젝트의 카운터 화면에 진입할 때 THEN 데이터베이스에서 해당 프로젝트 ID의 메인 카운터 값이 로드되어 표시되어야 합니다
2. WHEN 특정 프로젝트의 카운터 화면에 진입할 때 AND 데이터베이스에서 해당 프로젝트의 서브 카운터 값이 있을 때 THEN 서브 카운터 영역이 표시되어야 합니다
3. WHEN 특정 프로젝트의 카운터 화면에 진입할 때 THEN 데이터베이스에서 해당 프로젝트의 count by 값이 적용되어야 합니다
4. WHEN 해당 프로젝트의 저장된 카운터 데이터가 없을 때 THEN 기본값(메인 카운터 0, count by 1)으로 새 레코드가 생성되어야 합니다

### 요구사항 8

**사용자 스토리:** 뜨개질 작업자로서, 플랫폼에 맞는 네이티브한 UI를 경험하고 싶습니다. 그래야 각 플랫폼에서 자연스러운 사용자 경험을 할 수 있습니다.

#### 승인 기준

1. WHEN iOS 플랫폼에서 카운터 화면이 표시될 때 THEN Cupertino 스타일의 UI 컴포넌트가 사용되어야 합니다
2. WHEN Android 플랫폼에서 카운터 화면이 표시될 때 THEN Material Design 스타일의 UI 컴포넌트가 사용되어야 합니다
3. WHEN 다른 플랫폼에서 카운터 화면이 표시될 때 THEN Material Design 스타일의 UI 컴포넌트가 사용되어야 합니다
4. WHEN 플랫폼별 UI가 적용될 때 THEN 기능적으로는 동일하게 작동해야 합니다